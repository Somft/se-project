@model ExBook.Models.AdministrationPanel.AdministrationPanelViewModel
@{ ViewData["Title"] = "Admin"; }
<body>
    <div class="card">
        <div class="card-header">
            Administration Panel
        </div>
        <div class="card-body">           
            <div class="modal fade" id="usersModal" role="dialog" data-url='@Url.Action("ShowUserDetails","AdministrationPanel")'></div>
            <div class="modal fade" id="transactionModal" role="dialog" data-url='@Url.Action("PartialViewTest","AdministrationPanel")'></div>

            <ul class="nav nav-tabs" id="myTab" role="tablist">
                <li class="nav-item">
                    <a class="nav-link active" id="users-tab" data-toggle="tab" href="#users" role="tab" aria-controls="users" aria-selected="true">Users</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="transactions-tab" data-toggle="tab" href="#transactions" role="tab" aria-controls="transactions" aria-selected="false">Transactions</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="ratings-tab" data-toggle="tab" href="#ratings" role="tab" aria-controls="ratings" aria-selected="false">Ratings</a>
                </li>
            </ul>
            <div class="tab-content" id="myTabContent">
                <div class="tab-pane fade show active" id="users" role="tabpanel" aria-labelledby="users-tab"> @Html.Partial("_UsersTab", Model.Users)</div>
                <div class="tab-pane fade" id="transactions" role="tabpanel" aria-labelledby="transactions-tab">@Html.Partial("_TransactionsTab", Model.Transactions)</div>
                <div class="tab-pane fade" id="ratings" role="tabpanel" aria-labelledby="ratings-tab">@Html.Partial("_RatingsTab", Model.Ratings)</div>
            </div>
        </div>
    </div>
</body>
@section Scripts
{
    <script>
        $(document).ready(function () {

            //$('.users').click(function () {
            //    var url = $('#usersModal').data('url');
            //    $.get(url, function (data) {
            //        $("#usersModal").html(data);
            //        $("#usersModal").modal('show');
            //    });
            //});
            //$('.users').click(function () {
            //    var url = $('#myModal').data('url');
            //    $.get(url, function (data) {
            //        $("#myModal").html(data);
            //        $("#myModal").modal('show');
            //    });
            //});
        });
                    function Open(currentId) {
                $.ajax({
                    type: "Get",
                    url: '@Url.Action("ShowUserDetails", "AdministrationPanel")',
                    data: { userId: currentId },
                    success: function (data) {
                        $('#usersModal').html(data);
                        $('#usersModal').modal('show');
                    }
                })
            };



    </script>
}

